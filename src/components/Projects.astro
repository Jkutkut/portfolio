---
import { getCollection } from "astro:content";
import { marked } from "marked";
import LinkBtn from "./LinkBtn.astro";
import RepoTag from "./RepoTag.astro";
import Project from "./Project.astro";
import type { RepoData } from "../types";

const repos = await getCollection("highlights");
---

<section id="projects" class="projects">
  <h2>Projects</h2>
  {
    repos
      .sort((a, b) => a.data.name.localeCompare(b.data.name))
      .map((repo) => <Project repo={repo.data as RepoData} />)
  }
</section>
<style>
  .projects {
    background-color: #f9f9f9;
  }
  .projects {
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
</style>
